extends layout

block layout-content
    .column
        nav.navbar(role="navigation" aria-label="main navigation")
            .navbar-brand
                a.navbar-item(href='/' style='font-weight: bold; font-size: large') STRKS
                a.navbar-burger(role="button" aria-label="menu" aria-expanded="false" data-target="navMenu")
                    span(aria-hidden="true")
                    span(aria-hidden="true")
                    span(aria-hidden="true")
            .navbar-menu(id="navMenu")
                .navbar-start
                    a.navbar-item(href='/rewards') rewards
                    a.navbar-item(href='/about') about 
                .navbar-end
                    .navbar-item
                        a.button.is-dark.is-small(href='/logout') log-out
    .column.is-one-third.is-offset-one-third
        form(class="newTargetForm-js" style='text-align: center')
            .field
                .control
                    input.input.is-small.is-primary(type="text" id="targetName" placeholder="New target")
            .field
                .control
                    input.input.is-small.is-info(type="text" id="targetDescription" placeholder="Describe your target")
            .container(style='margin: auto')
                input.button.is-small.is-rounded.is-light(type="submit" value="Register your new target")
    
    section.hero.is-dark.is-fullheight
        .hero-body
            .container(style='margin-left: 50px')
                h1.title Your Targets:
                h2.subtitle Keep the streaks going!
            .container(style='margin-right: 30px')
                ul(class="targetList-js")

    script(src="/javascripts/user.js")
    script.
        document.addEventListener('DOMContentLoaded', () => {

            // Get all "navbar-burger" elements
            const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

            // Check if there are any navbar burgers
            if ($navbarBurgers.length > 0) {

                // Add a click event on each of them
                $navbarBurgers.forEach( el => {
                el.addEventListener('click', () => {

                    // Get the target from the "data-target" attribute
                    const target = el.dataset.target;
                    const $target = document.getElementById(target);

                    // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                    el.classList.toggle('is-active');
                    $target.classList.toggle('is-active');

                });
                });
            }

        });